Организация "выборов"

Агенты выбирают решение коллегильно; после выборов оно обязательно для исполнения всеми.
Математическая модель:
- множество альтернатив О
- для каждого из агентов есть отношение порядка: О1 лучше/хуже О2 (O1 < O2)
Задача алгоритма: построить итоговое отношение, чтобы оно удовлетворяло ряду ограничений:
1) алгоритм должен быть определён для всех возможных входов
2) мы хотим, чтобы полученное отношение было отношением порядка (всюду определено, транзитивно и асимметрично)
3) эффективность по Парето - нельзя кому-то сделать лучше, не сделав кому-то хуже; т.е. если для любого i O1 < O2, то в итоговом отношении тот же порядок (если хотя бы для одного не определено, то уже непонятно)
4) устойчивость к иррелевантным альтернативам: если мы возьмём некоторое О' и добавим его в пространство решений, то оно не должно поменять результата (????)
5) отсутствие диктатора: диктатор - агент, который может реализовать одно из своих наиболее предпочитаемых решений независимо от того, что предпочтут остальные; мы не хотим, чтоб было так

На самом деле, нам не нужно даже определять отношение полностью; по сути, нужен лишь топовый элемент.
4 и 5 очень сложные свойства, и ни один алгоритм не обеспечивает 100% выполнение.

Далее рассмотрим алгоритмы.

==================================================

1. Выбор большинством голосов

- каждый агент заявляет об одной альтернативе
- голоса считаются
- альтернатива, набравшая максимальное количество голосов, выполняется

Выполняются свойства 1, 3, 5
Не выполняются свойства 2 (?), 4

2. Алгоритм бинарного голосования

Попытка борьбы с иррелевантными альтернативами. Альтернативы сравниваются попарно, выбирается лучшая, далее выбирается ещё одна и сравнивается с победителем и т.д.

Свойство 4 всё равно не выполняется полностью; кроме того, результат может зависеть от последовательности действий.
Пример:
- c > d > b > a: 35%
- a > c > d > b: 32%
- b > a > c > d: 32%
Вариант 1: 
- сравниваем b, d;  d побеждает; d сравниваем с a; а побеждает; сравниваем а с с; а выиграла
Вариант 2:
- сравниваем с с а; а побеждает; сравниваем a c d; а побеждает; a сравниваем с b; b побеждает
Вариант 3:
- а b => b
- b c => c
- d c => c
Вариант 4: 
- a c => a
- a b => b
- b d => d

Такие вещи возможны, когда выбор достаточно сложен, все влияют примерно одинаково.

С точки зрения свойств этот алгоритм эквивалентен первому (эффективность по Парето не столь очевидна; но она тоже выполняется - если есть альтернатива, лучшая для всех, то она пройдёт)
Оба варианта не строят полное отношение, а выдают результат.

3. Протокол Борда

- Каждый агент выписывает для себя некоторое предпочтение:
b d c a
4 3 2 1
- Баллы суммируются и результат строится по предпочтениям

Здесь отношение строится полностью, но проблемы у алгоритма те же.
Пример:
  4 3 2 1
- a b c d
- b c d a
- c d a b
- a b c d
- b c d a
- c d a b
- a b c d

a: 18 баллов
b: 19 баллов
c: 20 баллов
d: 13 баллов
Побеждает c, проигрывает d.

Теперь уберём d.
  3 2 1
- a b c
- b c a
- c a b
- a b c
- b c a
- c a b
- a b c

a: 15 баллов
b: 14 баллов 
c: 13 баллов
Теперь с проигрывает, а побеждает.

Замечание: Борда - французский математик, пытался наладить алгоритмы выборов в парламенте. 

Мы не рассматривали ситуацию, когда агенты начинают манипулировать. Эти алгоритмы очень чувствительны к манипуляции. Нужно, чтобы стратегии агентов пришли в некоторое равновесие. (Идеального протокола, устойчивого к манипуляциями, нет; в любом протоколе может образоваться диктатор.)

==================================================

4. Выборы с налогами

Предлагается отобрать часть "дохода" выигравших и поделить между проигравшими.
Мат.модель:
- функция полезности: u: O -> R
- O* = arg max (sum u_i(O)) - оптимальная точка
- налог tax_i = sum u_j(O*) (для j != i) - max sum u_j(O) (для j != i)
Т.е. мы исключаем агента из рассмотрения, и точка максимума для остальных может оказаться в другом месте. 
Налог может быть только неположительным (есть ещё и схемы, где кому-то достаётся компенсация)

В такой схеме для агентов меньше вероятность, что они начнут навязывать свою оценку, но появляется дополнительный простор для манипуляций - агенты могут договориться, задекларировать меньшую сумму доходов (но это тоже рискованно для них).

Это усложнение не решает большинство проблем, на самом деле.

5. Случайный выбор диктатора

Случайный выбор агента, который сделает выбор за всех.
Этот протокол работает в случае, когда выборы идут регулярно (один раз повезло одному, другой раз повезёт другому; кроме того, согласно статистике решение, нужное большинству, скорее всего будет выбрано).

Вывод: более сложные алгоритмы обладают теми же проблемами, но добавляют ещё своих.

==================================================

Для домашнего выборы могут использоваться:
- для расписаний конференции (как организовать? как выдвигать альтернативы?)
- для двух других задач лучше использовать аукционы

==================================================

Аукционы

- взаимодействуют много агентов
- принятое решение выполняется не всеми, а только теми, кто пришёл к соглашению (т.е. теми, кто выиграл аукцион)
Принципы работы и оценки похожи (мы хотим, чтобы свойства 1-5 выполнялись).

==================================================

1. Английский аукцион

Выставляется товар, и из зала начинают кричать цену. Критерий завершения - отсутствие активности. Выбор победителя - по тому, кто предложил лучшую цену. Информация о ставках видна всем.

2. Голландский аукцион

Выкатывается товар, продавец называет цену, затем начинает её снижать, и снижает до момента, пока кто-нибудь не скажет, кто согласен. Критерий завершения - первое предложение. Раскрывается только цена последнего контракта (ничего не известно о предложениях других агентов)

3. Тендер

Объявляется аукцион и ограничение по времени; собираются предложения; по истечении времени они анализируются и выбирается лучшее. 

4. Vickrey

Похож на тендер, но победитель платит не свою цену, а цену второго предложения.
Зачем это нужно?

По механизмам ценообразования аукционы бывают:
- private value: ценность объекта определяется его полезными свойствами
- common value: сам по себе объект никому не нужен, но его можно продать потом (сколько за него готовы заплатить другие? мы покупаем объект по цене, меньшей или равной той, по которой дальше собираемся его продать)
- correlated value: нечто среднее между двумя вариантами, пример - картины

- в случае английского аукциона поднимаем постепенно цену до private value (и цену не заплатим больше, чем заплатили бы при других стратегиях) - простая доминантная стратегия
- в случае голландского аукциона оптимальная стратегия - дать цене опуститься до private value и чуть ниже
- тендер эквивалентен голландскому аукциону (цену пытаемся сделать чуть ниже private value)
- в vickrey оптимальная доминантная стратегия - назначать цену, равную private value (с агентов снимается необходимость сложных рассуждений и спекуляций)

В каждом аукционе есть пространство для читерства:
- в vickrey у организатора есть возможность жульничать (ставки не раскрываются, и он может увеличить вторую цену)
- в английском аукционе организатор может посадить в зал "подсадную утку", которая будет поднимать цену; но если она поднимет цену слишком высоко, организатор останется ни с чем
- в английском аукционе участники могут договориться: агент может не вести торг выше какой-нибудь низкой фэйковой цены; выигравший агент заплатит фэйковую цену, но она будет ниже истинной
- в vickrey агенты могут договориться аналогично

Схемы жульничества self-enforcing (если кто-то решит нарушить договорённость и начнёт поднимать цену, то агент, который планировал выиграть, будет поднимать свою цену дальше, до истинной). В голландском аукционе и в тендере жульничество более рискованно для агентов.

Проблема раскрытия информации:
- организатору лучше выбирать аукционы с открытой информацией (потенциально можно получить больше за объект за счёт того, что агент видит, как другие оценивают объект)

==================================================

Более сложные аукционы.

5. CDA

Так происходит на бирже.
- есть некоторое количество предложений (на продажу и на покупку)
- если предложения стыкуются, то они образуют сделку
- иначе ждут дальше

Т.е. нет одного товара, а есть пул, и сделки происходят непрерывно.

6. Параметрический аукцион

Пример: продажа аудиочастот (есть регулятор, распределяющий частоты для радиостанций). Каждая компания, которая хочет вести вещание, готовит пакет, в котором указывает частоты и цену, которую готова заплатить. Из полученных предложений собирается оптимальный по цене комплект (не должно быть пересекающихся частот, и сумма должна быть максимальной). 

Т.е. объект цельный, его надо нарезать и раздать с минимальным числом конфликтов.

==================================================

Для домашнего:
- дороги продают возможность проехать по ним на аукционе
- чем больше агентов хотят проехать по ней, тем выше они будут готовы за проезд платить
- для пассажиров: пассажир объявляет тендер на подвезение себя, водители присылают тендеры, и он выбирает лучшее; если они дороже, чем ехать самому, он не соглашается